#myModal.modal.fade{"aria-hidden" => "true", "aria-labelledby" => "exampleModalLabel", :role => "dialog", :tabindex => "-1"}
  .modal-dialog{:role => "document"}
    .modal-content
      .modal-header
        %h5#exampleModalLabel.modal-title Add New admin
        %button.close{ type: 'button', 'data-dismiss': 'modal', 'aria-label': 'Close' }
          = image_tag 'icons/circle-xmark.svg', alt: 'Close', width: 18, height: 18, 'aria-hidden': 'true'
      .modal-body
        = form_with model: @new_admin_form, local: true do |form|
          .row
            .col
              .form-group
                = form.label :community
                = form.text_field :community, class: 'form-control'
            .col
              .form-group
                = form.label :role
                = form.text_field :role, class: 'form-control'
          .row
            .col
              .form-group
                = form.label :display_name
                = form.text_field :display_name, class: 'form-control'
            .col
              .form-group
                = form.label :user_name
                = form.text_field :username, class: 'form-control'
          .row
            .col
              .form-group
                = form.label :email_address
                = form.text_field :email, class: 'form-control'
          .row
            .col
              .form-group.position-relative
                = form.label :password
                = form.password_field :password, class: 'form-control', id: 'passwordInput'
                %span.position-absolute{ style: "top: 50%; right: 10px; transform: translateY(-50%); cursor: pointer;", onclick: "togglePasswordVisibility()" }
                  %i.fa.fa-eye.mt-3.pt-3{ id: "togglePasswordIcon" }
          .modal-footer
            %div.d-flex.justify-content-between
              .col
                %button.btn.btn-secondary{"data-dismiss" => "modal", :type => "button"} Cancel
              .col
                = form.submit 'Save changes', class: 'btn btn-danger'

%section.content
  .container-fluid
    .row-md-12.my-4
      .col
        %ol.carousel-indicators
          %li.bg-danger.active{style: "width: 65px; height: 5px;"}
          %li.bg-danger.active{style: "width: 65px; height: 5px;"}
          %li.bg-secondary{style: "width: 65px; height: 5px;"}
          %li.bg-secondary{style: "width: 65px; height: 5px;"}
          %li.bg-secondary{style: "width: 65px; height: 5px;"}
          %li.bg-secondary{style: "width: 65px; height: 5px;"}
    .row
      .col-md-12
        .card
          .card-header
            %h3.card-title Step 2 - Admin Details
          .card-body.table.table-bordered
            .row.d-flex.justify-content-between
              .col-auto
                .row
                  %label Administrators
                .row
                  .mt-auto
                    %p.text-muted Assign administrators to your community by providing their details below.
              .col-auto.d-flex.flex-column.justify-content-end
                .mt-auto
                  %button.btn.btn-block.btn-outline-dark{type: "button", "data-target" => "#myModal", "data-toggle" => "modal"} Add New
            .row
              .col
                .card-tools
                  = search_form_for @search, url: step2_communities_path do |f|
                    .input-group.input-group-sm{style: "width: 150px;"}
                      = f.search_field :account_username_cont, class: "form-control float-right", placeholder: "Search"
                      .input-group-append
                        %button.btn.btn-default{type: "submit"}
                          %i.fas.fa-search
            %table.table.mt-3
              %thead
                %tr
                  %th
                    = check_box_tag :select_all, '', false, id: 'select_all'
                  %th Display name
                  %th Username
                  %th Email address
                  %th Role
                  %th
              %tbody
                - if @records.size == 0
                  %tr
                    %td.text-center.info-box-content{colspan: "100%"}
                      %p.text-muted You havenâ€™t added any hashtags to this community yet
                      %a.text-danger{ href: step2_communities_path } Click here to add one
                - @records.each do |community_admin|
                  %tr
                    %td
                      = check_box_tag "selected_accounts[]", community_admin.account.id, false, class: 'select_account'
                    %td= community_admin.account.display_name
                    %td= community_admin.account.username
                    %td= community_admin.account&.user&.email
                    %td= community_admin.account&.user&.role&.name
                    %td
                      %a.text-danger{ href: step2_communities_path } Edit
              %ul.pagination.pagination-sm.m-0.float-right
          = render "/kaminari/paginator"
        .row.d-flex.justify-content-between
          .col-auto
            %a.btn.btn-outline-secondary{ href: step1_communities_path } Back
          .col-auto
            %a.btn.btn-danger{ href: step3_communities_path } Continue


:javascript
  function togglePasswordVisibility() {
    var passwordInput = document.getElementById('passwordInput');
    var togglePasswordIcon = document.getElementById('togglePasswordIcon');
    if (passwordInput.type === 'password') {
      passwordInput.type = 'text';
      togglePasswordIcon.classList.remove('fa-eye');
      togglePasswordIcon.classList.add('fa-eye-slash');
    } else {
      passwordInput.type = 'password';
      togglePasswordIcon.classList.remove('fa-eye-slash');
      togglePasswordIcon.classList.add('fa-eye');
    }
  }

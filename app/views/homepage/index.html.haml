- content_for :title do
  = 'Homepage'

.row
  .col-12
    .card.homepage
      .card-body.mx-4.my-4
        .row.d-flex.align-items-center
          .col-9
            %h2
              Welcome to the Patchwork dashboard
            %p.text-light
              Here, you can oversee your server settings enhanced by Patchwork
              %br
              patches, all in one place. Install patches, curate content, manage
              %br
              users, create new channels and more with minimal effort. Enjoy
              %br
              seamless control and organisation of your server.
          .col-3.position-relative
            .logo
              = image_tag("patchwork-logo.svg", class: "large-logo")

.row.ml-1.d-flex.justify-content-between
  .col-4
    .row
      .card.small-card
        .card-header
          %div.d-flex.justify-content-between
            %div
              %h5.card-title Total server users
            %div
              = image_tag("icons/users-black.svg", class: "mr-2", width: "16", height: "16")
        .card-body.mb-1.d-flex.align-items-center.justify-content-between
          .col-5.ml-4.d-flex.flex-column.justify-content-center
            %h3 18,928
            %p Since 23 July, 2024
          .col-2.d-flex.justify-content-center.align-items-center
            = image_tag("icons/circle-up.svg", class: "mr-2", width: "16", height: "16")
          .col-5.d-flex.align-items-center
            %h3 31.24%

    .row
      .card.small-card
        .card-header
          %div.d-flex.justify-content-between
            %div
              %h5.card-title Visits
            %div
              = image_tag("icons/eye.svg", class: "mr-2", width: "16", height: "16")
        .card-body.d-flex.align-items-center.justify-content-between
          .col-5.ml-4
            %h3 201
            %p Every 24 hours
          .col-2.d-flex.align-items-center.justify-content-center
            = image_tag("icons/circle-up.svg", class: "mr-2", width: "16", height: "16")
          .col-5
            %h3 31.24%

  .col-4
    .card.small-card
      .card-header
        %div.d-flex.justify-content-between
          %h5.card-title Most popular channels on this server
          = image_tag("icons/chart-line-up.svg", class: "mr-2", width: "16", height: "16")
      .card-body.mb-3
        - channels = [["Local channel 1", "10K"], ["Local channel 2", "1.2K"], ["Local channel 3", "1.3K"], ["Local channel 4", "1.4K"], ["Local channel 5", "1.5K"]]
        - channels.each do |community, followers|
          .d-flex.align-items-center.mb-1
            %img{ alt: "profile picture", src: asset_path('patchwork-logo.svg'), class: "rounded-circle", style: "width: 35px; height: 35px; border: 2px solid white;" }
            %div.ml-3
              %div= community
              %div.text-muted= "#{followers} Followers"
            %div.ml-auto
              = image_tag("icons/chevron-right.svg", width: "16", height: "16")

  .col-4
    .card.small-card
      .card-header
        %div.d-flex.justify-content-between
          %div
            %h5.card-title Most active contributors
          %div
            = image_tag("icons/users-black.svg", class: "mr-2", width: "16", height: "16")
      .card-body
        .row.d-flex.justify-content-between.my-2
          .col-6
            .d-flex.flex-column.align-items-center
              %img{ alt: "profile picture", src: asset_path('patchwork-logo.svg'), class: "rounded-circle", style: "width: 60px; height: 60px; border: 2px solid white;" }
              %div Profile Name
              %div.text-muted @profilename
          .col-6
            .d-flex.flex-column.align-items-center
              %img{ alt: "profile picture", src: asset_path('patchwork-logo.svg'), class: "rounded-circle", style: "width: 60px; height: 60px; border: 2px solid white;" }
              %div Profile Name
              %div.text-muted @profilename
        .row.d-flex.justify-content-between.my-4
          .col-6
            .d-flex.flex-column.align-items-center
              %img{ alt: "profile picture", src: asset_path('patchwork-logo.svg'), class: "rounded-circle", style: "width: 60px; height: 60px; border: 2px solid white;" }
              %div Profile Name
              %div.text-muted @profilename
          .col-6
            .d-flex.flex-column.align-items-center
              %img{ alt: "profile picture", src: asset_path('patchwork-logo.svg'), class: "rounded-circle", style: "width: 60px; height: 60px; border: 2px solid white;" }
              %div Profile Name
              %div.text-muted @profilename

%div.text-center.my-3 Use our quick actions to get started:

%div.d-flex.flex-row.align-items-stretch
  .col-4.d-flex.justify-content-between
    .card.small-card
      .card-body.d-flex{style: 'flex-direction: column;'}
        %div.d-flex.justify-content-center.my-2
          = image_tag("icons/setting.svg", width: "20", height: "20")
        %div.d-flex.justify-content-center.my-2
          %h5 Server settings
        %p.text-muted.small.my-2
          Update the settings for your server to ensure content is being moderated correctly and spam filters are in place.
        %div.d-grid.gap-2.mt-auto.my-2
          %a.btn.btn-danger.btn-block{ href: server_settings_path } View server settings
  .col-4.d-flex.justify-content-between
    .card.small-card
      .card-body.d-flex{style: 'flex-direction: column;'}
        %div.d-flex.justify-content-center.my-2
          = image_tag("icons/chat.svg", width: "20", height: "20")
        %div.d-flex.justify-content-center.my-2
          %h5 Local channels
        %p.text-muted.small.my-2
          See a list of all your local channels and easily import, manage or create new channels in one place.
        %div.d-grid.gap-2.mt-auto.my-2
          %a.btn.btn-danger.btn-block{ href: communities_path } View all local channels
  .col-4.d-flex.justify-content-between
    .card.small-card
      .card-body.d-flex{style: 'flex-direction: column;'}
        %div.d-flex.justify-content-center.my-2
          = image_tag("icons/tool.svg", width: "20", height: "20")
        %div.d-flex.justify-content-center.my-2
          %h5 Installation
        %p.text-muted.small.my-2
          Install Patchwork patches to enable new features and controls.
        %div.d-grid.gap-2.mt-auto.my-2
          %a.btn.btn-danger.btn-block{ href: '/installation' } View installation panel
